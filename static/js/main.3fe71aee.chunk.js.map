{"version":3,"sources":["images/logo.svg","utils/constants.js","components/Header.js","images/pencil.svg","images/cross.svg","images/heart.svg","images/heart-solid.svg","images/trash.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","utils/utils.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/AuthForm.js","components/Register.js","components/Login.js","components/InfoTooltip.js","components/ProtectedRoute.js","utils/api.js","utils/auth.js","images/success.svg","images/fail.svg","components/App.js","reportWebVitals.js","index.js"],"names":["textContents","editProfile","title","submitLabel","editAvatar","placeholder","addPlace","namePlaceholder","linkPlaceholder","auth","titleRegister","titleLogin","emailPlaceholder","passwordPlaceholder","alreadyRegisteredLink","submitRegisterLabel","submitLoginLabel","headerLink","logout","login","register","infoTooltip","imageAlts","success","fail","messages","Header","email","onLogout","linkContents","className","src","headerLogo","alt","path","to","exact","onClick","event","preventDefault","CurrentUserContext","React","createContext","Card","source","onCardLike","onCardDelete","name","link","likes","currentUser","useContext","isOwn","_id","owner","isLiked","some","l","type","likeIconSolid","likeIcon","length","disabled","deleteButton","Main","onEditAvatar","onEditProfile","onAddPlace","onCardClick","cards","avatar","editButtonIcon","about","crossButtonIcon","map","cardData","Footer","handlePopupOverlayClick","action","target","classList","contains","ImagePopup","card","onClose","isOpen","Object","keys","useEffect","handleEscapeClose","key","document","addEventListener","removeEventListener","classNames","popup_opened","onMouseDown","PopupWithForm","children","submitButtonLabel","onSubmit","noValidate","EditProfilePopup","onUpdateUser","content","useState","formValues","setFormValues","handleInputChange","value","id","minLength","maxLength","required","onChange","EditAvatarPopup","onUpdateAvatar","linkInput","useRef","current","ref","AddPlacePopup","nameInput","forEach","input","AuthForm","formFooterLink","Register","onRegister","autoFocus","password","Login","onLogin","InfoTooltip","image","message","ProtectedRoute","Component","component","loggedIn","props","api","baseUrl","headers","this","_baseUrl","_headers","response","ok","json","Promise","reject","status","fetch","then","_getData","method","body","JSON","stringify","cardId","authorization","BASE_URL","withRouter","history","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","setEmail","setInfoToolTip","tooltipMessages","closeAllPopups","setState","handleCheckToken","localStorage","getItem","token","Authorization","data","checkToken","push","catch","e","console","error","getUserInfo","getInitialCards","page_state_unsigned","Provider","removeItem","imageLink","deleteCardLike","putCardLike","targetCard","newCards","c","deleteCard","filter","successImage","failImage","setItem","authorize","patchUserAvatar","values","patchUserInfo","postCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3fe71aee.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","export const textContents = {\n  editProfile: {\n    title: \"Редактировать профиль\",\n    submitLabel: \"Сохранить\",\n  },\n  editAvatar: {\n    title: \"Обновить аватар\",\n    placeholder: \"https://somewebsite.com/someimage.jpg\",\n    submitLabel: \"Сохранить\",\n  },\n  addPlace: {\n    title: \"Новое место\",\n    namePlaceholder: \"Название\",\n    linkPlaceholder: \"Ссылка на картинку\",\n    submitLabel: \"Создать\",\n  },\n  auth: {\n    titleRegister: \"Регистрация\",\n    titleLogin: \"Вход\",\n    emailPlaceholder: \"Email\",\n    passwordPlaceholder: \"Пароль\",\n    alreadyRegisteredLink: \"Уже зарегистрированы? Войти\",\n    submitRegisterLabel: \"Зарегистрироваться\",\n    submitLoginLabel: \"Войти\",\n  },\n  headerLink: {\n    logout: \"Выйти\",\n    login: \"Войти\",\n    register: \"Регистрация\",\n  },\n  infoTooltip: {\n    imageAlts: {\n      success: \"успех\",\n      fail: \"провал\",\n    },\n    messages: {\n      success: \"Вы успешно зарегистрировались!\",\n      fail: \"Что-то пошло не так! Попробуйте ещё раз.\",\n    },\n  },\n};\n","import headerLogo from \"../images/logo.svg\";\nimport { Link, Route, Switch } from \"react-router-dom\";\nimport { textContents } from \"../utils/constants\";\nimport PropTypes from \"prop-types\";\n\nexport default function Header({ email, onLogout }) {\n  Header.propTypes = {\n    onLogout: PropTypes.func,\n  };\n\n  const linkContents = textContents.headerLink;\n\n  function logout(event) {\n    event.preventDefault();\n    onLogout();\n  }\n\n  return (\n    <header className=\"header\">\n      <img src={headerLogo} alt=\"Место\" className=\"header__logo\" />\n      <div>\n        <Switch>\n          <Route path=\"/sign-in\">\n            <Link to=\"/sign-up\" className=\"header__link\">\n              {linkContents.register}\n            </Link>\n          </Route>\n          <Route path=\"/sign-up\">\n            <Link to=\"/sign-in\" className=\"header__link\">\n              {linkContents.login}\n            </Link>\n          </Route>\n          <Route exact path=\"/\">\n            <p className=\"header__email\">{email}</p>\n            <Link to=\"/sign-in\" onClick={logout} className=\"header__link header__link_type_logout\">\n              {linkContents.logout}\n            </Link>\n          </Route>\n        </Switch>\n      </div>\n    </header>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/pencil.8667ac4a.svg\";","export default __webpack_public_path__ + \"static/media/cross.8486ac00.svg\";","export default __webpack_public_path__ + \"static/media/heart.b7466cc9.svg\";","export default __webpack_public_path__ + \"static/media/heart-solid.37858912.svg\";","export default __webpack_public_path__ + \"static/media/trash.cbc09a89.svg\";","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext({});\n","import likeIcon from \"../images/heart.svg\";\nimport likeIconSolid from \"../images/heart-solid.svg\";\nimport deleteButton from \"../images/trash.svg\";\nimport React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport PropTypes from \"prop-types\";\n\nexport default function Card({ source, onClick, onCardLike, onCardDelete }) {\n  Card.propTypes = {\n    source: PropTypes.object,\n    onClick: PropTypes.func,\n    onCardLike: PropTypes.func,\n    onCardDelete: PropTypes.func,\n  };\n\n  const { name, link, likes } = source;\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = currentUser._id === source.owner._id;\n  const isLiked = likes.some((l) => l._id === currentUser._id);\n\n  function handleImageClick() {\n    const data = { name, link };\n    onClick(data);\n  }\n\n  function handleLikeClick() {\n    onCardLike(source);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(source);\n  }\n\n  return (\n    <li className=\"card\">\n      <img src={link} alt={name} className=\"card__image\" onClick={handleImageClick} />\n      <div className=\"card__title-container\">\n        <h2 className=\"card__title\">{name}</h2>\n        <button type=\"button\" className=\"card__like-button\" onClick={handleLikeClick}>\n          <img src={isLiked ? likeIconSolid : likeIcon} alt=\"Нравится\" />\n          <span className=\"card__like-count\">{likes.length}</span>\n        </button>\n      </div>\n      <button type=\"button\" className=\"card__delete-button\" disabled={!isOwn} onClick={handleDeleteClick}>\n        <img src={deleteButton} alt=\"Удалить место\" />\n      </button>\n    </li>\n  );\n}\n","import React from \"react\";\nimport editButtonIcon from \"../images/pencil.svg\";\nimport crossButtonIcon from \"../images/cross.svg\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport PropTypes from \"prop-types\";\n\nexport default function Main({\n  onEditAvatar,\n  onEditProfile,\n  onAddPlace,\n  onCardClick,\n  onCardLike,\n  onCardDelete,\n  cards,\n}) {\n  Main.propTypes = {\n    onEditAvatar: PropTypes.func,\n    onEditProfile: PropTypes.func,\n    onAddPlace: PropTypes.func,\n    onCardClick: PropTypes.func,\n    onCardLike: PropTypes.func,\n    onCardDelete: PropTypes.func,\n    cards: PropTypes.array,\n  };\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar-container\" onClick={onEditAvatar}>\n          <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"аватар профиля\" />\n          <div className=\"profile__avatar-overlay\">\n            <img className=\"profile__avatar-update-icon\" src={editButtonIcon} alt=\"изменить аватар\" />\n          </div>\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button type=\"button\" className=\"profile__edit-button\" onClick={onEditProfile}>\n            <img src={editButtonIcon} alt=\"редактировать профиль\" />\n          </button>\n          <p className=\"profile__about\">{currentUser.about}</p>\n        </div>\n        <button type=\"button\" className=\"profile__add-button\" onClick={onAddPlace}>\n          <img src={crossButtonIcon} alt=\"добавить\" className=\"profile__add-button-image\" />\n        </button>\n      </section>\n      <section className=\"places\">\n        <ul className=\"places__grid\">\n          {cards.map((cardData) => {\n            return (\n              <Card\n                key={cardData._id}\n                source={cardData}\n                onClick={(cardData) => onCardClick(cardData)}\n                onCardLike={onCardLike}\n                onCardDelete={onCardDelete}\n              />\n            );\n          })}\n        </ul>\n      </section>\n    </main>\n  );\n}\n","export default function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n","export function handlePopupOverlayClick(event, action) {\n  event.target.classList.contains(\"popup\") && action();\n}\n","import React from \"react\";\nimport crossButtonIcon from \"../images/cross.svg\";\nimport { handlePopupOverlayClick } from \"../utils/utils\";\nimport PropTypes from \"prop-types\";\nimport classNames from \"classnames\";\n\nexport default function ImagePopup({ card, onClose }) {\n  ImagePopup.propTypes = {\n    card: PropTypes.object,\n    onClose: PropTypes.func,\n  };\n\n  const { name, link } = card;\n  const isOpen = !!Object.keys(card).length;\n\n  React.useEffect(() => {\n    if (isOpen) {\n      const handleEscapeClose = (event) => {\n        if (event.key === \"Escape\") {\n          onClose();\n        }\n      };\n      document.addEventListener(\"keydown\", handleEscapeClose);\n      return () => {\n        document.removeEventListener(\"keydown\", handleEscapeClose);\n      };\n    }\n  }, [isOpen, onClose]);\n\n  return (\n    <div\n      className={classNames(\"popup\", { popup_opened: isOpen })}\n      onMouseDown={(event) => handlePopupOverlayClick(event, onClose)}\n    >\n      <div className=\"popup__image-container\">\n        <img src={link} alt={name} className=\"popup__image\" />\n        <p className=\"popup__image-caption\">{name}</p>\n        <button type=\"button\" className=\"popup__close-button\" onClick={onClose}>\n          <img src={crossButtonIcon} alt=\"Закрыть\" className=\"popup__close-button-image\" />\n        </button>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport crossButtonIcon from \"../images/cross.svg\";\nimport { handlePopupOverlayClick } from \"../utils/utils\";\nimport PropTypes from \"prop-types\";\nimport classNames from \"classnames\";\n\nexport default function PopupWithForm({ children, name, title, submitButtonLabel, isOpen, onClose, onSubmit }) {\n  PopupWithForm.propTypes = {\n    children: PropTypes.node,\n    name: PropTypes.string,\n    title: PropTypes.string,\n    submitButtonLabel: PropTypes.string,\n    isOpen: PropTypes.bool,\n    onClose: PropTypes.func,\n    onSubmit: PropTypes.func,\n  };\n\n  React.useEffect(() => {\n    if (isOpen) {\n      const handleEscapeClose = (event) => {\n        if (event.key === \"Escape\") {\n          onClose();\n        }\n      };\n      document.addEventListener(\"keydown\", handleEscapeClose);\n      return () => {\n        document.removeEventListener(\"keydown\", handleEscapeClose);\n      };\n    }\n  }, [isOpen, onClose]);\n\n  return (\n    <div\n      className={classNames(\"popup\", { popup_opened: isOpen })}\n      onMouseDown={(event) => handlePopupOverlayClick(event, onClose)}\n    >\n      <form name={name} noValidate className=\"form\" onSubmit={onSubmit}>\n        <h2 className=\"form__title\">{title}</h2>\n        {children}\n        <button type=\"submit\" className=\"form__submit-button\">\n          {submitButtonLabel}\n        </button>\n        <button type=\"button\" className=\"popup__close-button\" onClick={onClose}>\n          <img src={crossButtonIcon} alt=\"Закрыть\" className=\"popup__close-button-image\" />\n        </button>\n      </form>\n    </div>\n  );\n}\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport PropTypes from \"prop-types\";\n\nexport default function EditProfilePopup({ isOpen, onClose, onUpdateUser, content }) {\n  EditProfilePopup.propTypes = {\n    isOpen: PropTypes.bool,\n    onClose: PropTypes.func,\n    onUpdateUser: PropTypes.func,\n    content: PropTypes.object,\n  };\n\n  const currentUser = React.useContext(CurrentUserContext);\n  const [formValues, setFormValues] = React.useState({});\n\n  function handleInputChange(event) {\n    setFormValues({ ...formValues, [event.target.name]: event.target.value });\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    onUpdateUser(formValues);\n  }\n\n  React.useEffect(() => {\n    setFormValues({\n      name: currentUser.name,\n      about: currentUser.about,\n    });\n  }, [currentUser]);\n\n  return (\n    <PopupWithForm\n      name=\"editProfile\"\n      title={content.title}\n      submitButtonLabel={content.submitLabel}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"form__input-container\">\n        <input\n          id=\"user-name\"\n          name=\"name\"\n          type=\"text\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          required\n          className=\"form__input\"\n          value={formValues.name || \"\"}\n          onChange={handleInputChange}\n        />\n        <span className=\"user-name-error form__input-error\" />\n      </label>\n      <label className=\"form__input-container\">\n        <input\n          id=\"user-about\"\n          name=\"about\"\n          type=\"text\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          required\n          className=\"form__input form__input_type_profile-about\"\n          value={formValues.about || \"\"}\n          onChange={handleInputChange}\n        />\n        <span className=\"user-about-error form__input-error\" />\n      </label>\n    </PopupWithForm>\n  );\n}\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport PropTypes from \"prop-types\";\n\nexport default function EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, content }) {\n  EditAvatarPopup.propTypes = {\n    isOpen: PropTypes.bool,\n    onClose: PropTypes.func,\n    onUpdateAvatar: PropTypes.func,\n    content: PropTypes.object,\n  };\n\n  const linkInput = React.useRef();\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    onUpdateAvatar({ avatar: linkInput.current.value });\n  }\n\n  React.useEffect(() => {\n    if (!isOpen) linkInput.current.value = \"\";\n  }, [isOpen]);\n\n  return (\n    <PopupWithForm\n      name=\"editAvatar\"\n      title={content.title}\n      submitButtonLabel={content.submitLabel}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"form__input-container\">\n        <input\n          ref={linkInput}\n          id=\"avatar-link\"\n          name=\"avatar\"\n          type=\"url\"\n          required\n          className=\"form__input\"\n          placeholder={content.placeholder}\n        />\n        <span className=\"avatar-link-error form__input-error\" />\n      </label>\n    </PopupWithForm>\n  );\n}\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport PropTypes from \"prop-types\";\n\nexport default function AddPlacePopup({ isOpen, onClose, onAddPlace, content }) {\n  AddPlacePopup.propTypes = {\n    isOpen: PropTypes.bool,\n    onClose: PropTypes.func,\n    onAddPlace: PropTypes.func,\n    content: PropTypes.object,\n  };\n\n  const nameInput = React.useRef();\n  const linkInput = React.useRef();\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    onAddPlace({\n      name: nameInput.current.value,\n      link: linkInput.current.value,\n    });\n  }\n\n  React.useEffect(() => {\n    if (!isOpen)\n      [nameInput, linkInput].forEach((input) => {\n        input.current.value = \"\";\n      });\n  }, [isOpen]);\n\n  return (\n    <PopupWithForm\n      name=\"addPlace\"\n      title={content.title}\n      submitButtonLabel={content.submitLabel}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"form__input-container\">\n        <input\n          ref={nameInput}\n          id=\"place-name\"\n          name=\"name\"\n          type=\"text\"\n          minLength=\"2\"\n          maxLength=\"30\"\n          required\n          className=\"form__input\"\n          placeholder={content.namePlaceholder}\n        />\n        <span className=\"place-name-error form__input-error\" />\n      </label>\n      <label className=\"form__input-container\">\n        <input\n          ref={linkInput}\n          id=\"place-link\"\n          name=\"link\"\n          type=\"url\"\n          required\n          className=\"form__input\"\n          placeholder={content.linkPlaceholder}\n        />\n        <span className=\"place-link-error form__input-error\" />\n      </label>\n    </PopupWithForm>\n  );\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Route } from \"react-router-dom\";\n\nexport default function AuthForm({ children, name, title, submitButtonLabel, formFooterLink, onSubmit }) {\n  AuthForm.propTypes = {\n    children: PropTypes.node,\n    formFooterLink: PropTypes.node,\n    name: PropTypes.string,\n    title: PropTypes.string,\n    submitButtonLabel: PropTypes.string,\n    onSubmit: PropTypes.func,\n  };\n\n  return (\n    <form name={name} noValidate className=\"form form_type_auth\" onSubmit={onSubmit}>\n      <div>\n        <h2 className=\"form__title form__title_type_auth\">{title}</h2>\n        {children}\n      </div>\n      <div>\n        <button type=\"submit\" className=\"form__submit-button form__submit-button_type_auth\">\n          {submitButtonLabel}\n        </button>\n        <div className=\"form__footer\">\n          <Route path=\"/sign-up\">{formFooterLink}</Route>\n        </div>\n      </div>\n    </form>\n  );\n}\n","import React from \"react\";\nimport { textContents } from \"../utils/constants\";\nimport { Link } from \"react-router-dom\";\nimport AuthForm from \"./AuthForm\";\nimport PropTypes from \"prop-types\";\n\nexport default function Register({ onRegister }) {\n  Register.propTypes = {\n    onRegister: PropTypes.func,\n  };\n\n  const [formValues, setFormValues] = React.useState({});\n\n  const content = textContents.auth;\n  const formFooterLink = (\n    <Link to=\"/sign-in\" className=\"form__footer-link\">\n      {content.alreadyRegisteredLink}\n    </Link>\n  );\n\n  function handleInputChange(event) {\n    setFormValues({ ...formValues, [event.target.name]: event.target.value });\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    onRegister(formValues);\n  }\n\n  return (\n    <AuthForm\n      name=\"register\"\n      title={content.titleRegister}\n      submitButtonLabel={content.submitRegisterLabel}\n      formFooterLink={formFooterLink}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"form__input-container\">\n        <input\n          id=\"register-email\"\n          name=\"email\"\n          type=\"email\"\n          placeholder={content.emailPlaceholder}\n          required\n          autoFocus\n          className=\"form__input form__input_type_auth\"\n          value={formValues.email || \"\"}\n          onChange={handleInputChange}\n        />\n      </label>\n      <label className=\"auth__input-container\">\n        <input\n          id=\"register-password\"\n          name=\"password\"\n          type=\"password\"\n          placeholder={content.passwordPlaceholder}\n          required\n          className=\"form__input form__input_type_auth\"\n          value={formValues.password || \"\"}\n          onChange={handleInputChange}\n        />\n      </label>\n    </AuthForm>\n  );\n}\n","import React from \"react\";\nimport { textContents } from \"../utils/constants\";\nimport AuthForm from \"./AuthForm\";\nimport PropTypes from \"prop-types\";\n\nexport default function Login({ onLogin }) {\n  Login.propTypes = {\n    onLogin: PropTypes.func,\n  };\n\n  const content = textContents.auth;\n  const [formValues, setFormValues] = React.useState({});\n\n  function handleInputChange(event) {\n    setFormValues({ ...formValues, [event.target.name]: event.target.value });\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    onLogin(formValues);\n  }\n\n  return (\n    <AuthForm\n      name=\"login\"\n      title={content.titleLogin}\n      submitButtonLabel={content.submitLoginLabel}\n      formFooterLink=\"\"\n      onSubmit={handleSubmit}\n    >\n      <label className=\"form__input-container\">\n        <input\n          id=\"login-email\"\n          name=\"email\"\n          type=\"email\"\n          placeholder={content.emailPlaceholder}\n          required\n          autoFocus\n          className=\"form__input form__input_type_auth\"\n          value={formValues.email || \"\"}\n          onChange={handleInputChange}\n        />\n      </label>\n      <label className=\"auth__input-container\">\n        <input\n          id=\"login-password\"\n          name=\"password\"\n          type=\"password\"\n          placeholder={content.passwordPlaceholder}\n          required\n          className=\"form__input form__input_type_auth\"\n          value={formValues.password || \"\"}\n          onChange={handleInputChange}\n        />\n      </label>\n    </AuthForm>\n  );\n}\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport { handlePopupOverlayClick } from \"../utils/utils\";\nimport crossButtonIcon from \"../images/cross.svg\";\nimport { textContents } from \"../utils/constants\";\nimport PropTypes from \"prop-types\";\n\nexport default function InfoTooltip({ image, message, isOpen, onClose }) {\n  InfoTooltip.propTypes = {\n    image: PropTypes.string,\n    message: PropTypes.string,\n    isOpen: PropTypes.bool,\n    onClose: PropTypes.func,\n  };\n\n  const imageAlts = textContents.infoTooltip.imageAlts;\n\n  React.useEffect(() => {\n    if (isOpen) {\n      const handleEscapeClose = (event) => {\n        if (event.key === \"Escape\") {\n          onClose();\n        }\n      };\n      document.addEventListener(\"keydown\", handleEscapeClose);\n      return () => {\n        document.removeEventListener(\"keydown\", handleEscapeClose);\n      };\n    }\n  }, [isOpen, onClose]);\n\n  return (\n    <div\n      className={classNames(\"popup\", { popup_opened: isOpen })}\n      onMouseDown={(event) => handlePopupOverlayClick(event, onClose)}\n    >\n      <div className=\"tooltip\">\n        <img src={image} alt={imageAlts.success} />\n        <p className=\"tooltip__message\">{message}</p>\n        <button type=\"button\" className=\"popup__close-button\" onClick={onClose}>\n          <img src={crossButtonIcon} alt=\"Закрыть\" className=\"popup__close-button-image\" />\n        </button>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\n\nconst ProtectedRoute = ({ component: Component, loggedIn, ...props }) => {\n  ProtectedRoute.propTypes = {\n    component: PropTypes.elementType,\n    loggedIn: PropTypes.bool,\n  };\n\n  return <Route>{loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />}</Route>;\n};\n\nexport default ProtectedRoute;\n","class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _getData(response) {\n    if (response.ok) return response.json();\n    else return Promise.reject(`Ошибка: ${response.status}`);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n    }).then(this._getData);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n    }).then(this._getData);\n  }\n\n  patchUserInfo({ name, about }) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({ name: name, about: about }),\n    }).then(this._getData);\n  }\n\n  postCard({ name, link }) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({ name: name, link: link }),\n    }).then(this._getData);\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then(this._getData);\n  }\n\n  putCardLike(cardId) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: \"PUT\",\n      headers: this._headers,\n    }).then(this._getData);\n  }\n\n  deleteCardLike(cardId) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then(this._getData);\n  }\n\n  patchUserAvatar({ avatar }) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({ avatar: avatar }),\n    }).then(this._getData);\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-19\",\n  headers: {\n    authorization: \"923e2964-e93c-462a-8318-e3004cff48bd\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;\n","export const BASE_URL = \"https://auth.nomoreparties.co\";\n\nexport function register({ email, password }) {\n  return fetch(`${BASE_URL}/signup`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ email, password }),\n  }).then((response) => response.json());\n}\n\nexport function authorize({ email, password }) {\n  return fetch(`${BASE_URL}/signin`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ email, password }),\n  })\n    .then((response) => response.json())\n    .then((data) => {\n      if (data.token) {\n        localStorage.setItem(\"jwt\", data.token);\n        return data;\n      }\n    });\n}\n\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((response) => response.json())\n    .then((data) => data);\n};\n","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/fail.df8eddf6.svg\";","import React from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport Register from \"./Register\";\nimport Login from \"./Login\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { textContents } from \"../utils/constants\";\nimport classNames from \"classnames\";\nimport { Redirect, Route, Switch, withRouter } from \"react-router-dom\";\nimport { authorize, checkToken, register } from \"../utils/auth\";\nimport successImage from \"../images/success.svg\";\nimport failImage from \"../images/fail.svg\";\n\nfunction App({ history }) {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [email, setEmail] = React.useState(\"\");\n  const [infoTooltip, setInfoToolTip] = React.useState({ image: \"\", message: \"\", isOpen: false });\n\n  const tooltipMessages = textContents.infoTooltip.messages;\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(cardData) {\n    setSelectedCard(cardData);\n  }\n\n  function closeAllPopups() {\n    [setIsEditAvatarPopupOpen, setIsEditProfilePopupOpen, setIsAddPlacePopupOpen].forEach((setState) =>\n      setState(false)\n    );\n    setSelectedCard({});\n    setInfoToolTip({ isOpen: false });\n  }\n\n  function handleUpdateUser(values) {\n    api\n      .patchUserInfo(values)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((e) => {\n        console.error(e);\n      });\n  }\n\n  function handleUpdateAvatar(link) {\n    api\n      .patchUserAvatar(link)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((e) => {\n        console.error(e);\n      });\n  }\n\n  function handleAddPlace(values) {\n    api\n      .postCard(values)\n      .then((data) => {\n        setCards([data, ...cards]);\n        closeAllPopups();\n      })\n      .catch((e) => {\n        console.error(e);\n      });\n  }\n\n  function handleCardLike(card) {\n    function changeLikeCardStatus() {\n      const isLiked = card.likes.some((l) => l._id === currentUser._id);\n      return isLiked ? api.deleteCardLike(card._id) : api.putCardLike(card._id);\n    }\n\n    changeLikeCardStatus()\n      .then((targetCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? targetCard : c));\n        setCards(newCards);\n      })\n      .catch((e) => {\n        console.error(e);\n      });\n  }\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n        setCards(newCards);\n      })\n      .catch((e) => {\n        console.error(e);\n      });\n  }\n\n  function handleRegister({ email, password }) {\n    register({ email, password })\n      .then(({ data }) => {\n        if (data) {\n          setInfoToolTip({ image: successImage, message: tooltipMessages.success, isOpen: true });\n        } else {\n          setInfoToolTip({ image: failImage, message: tooltipMessages.fail, isOpen: true });\n        }\n      })\n      .then(() => history.push(\"/sign-in\"))\n      .catch((e) => {\n        console.error(e);\n      });\n  }\n\n  function handleLogin({ email, password }) {\n    authorize({ email, password })\n      .then(({ token }) => {\n        if (token) {\n          setEmail(email);\n          setLoggedIn(true);\n        }\n      })\n      .then(() => history.push(\"/\"))\n      .catch((e) => {\n        console.error(e);\n      });\n  }\n\n  function handleLogout() {\n    localStorage.removeItem(\"jwt\");\n    setLoggedIn(false);\n    setEmail(\"\");\n  }\n\n  function handleCheckToken() {\n    if (localStorage.getItem(\"jwt\")) {\n      const token = localStorage.getItem(\"jwt\");\n      checkToken(token)\n        .then(({ data }) => {\n          if (data.email) {\n            setLoggedIn(true);\n            setEmail(data.email);\n          }\n        })\n        .then(history.push(\"/\"))\n        .catch((e) => {\n          history.push(\"/sign-in\");\n          console.error(e);\n        });\n    }\n  }\n\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((e) => {\n        console.error(e);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    api\n      .getInitialCards()\n      .then((data) => {\n        setCards(data);\n      })\n      .catch((e) => {\n        console.error(e);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    handleCheckToken();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className={classNames(\"page\", { page_state_unsigned: !loggedIn })}>\n      <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"page__content\">\n          <Header email={email} onLogout={handleLogout} />\n          <Switch>\n            <ProtectedRoute\n              exact\n              path=\"/\"\n              component={Main}\n              loggedIn={loggedIn}\n              onEditAvatar={handleEditAvatarClick}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              selectedCard={selectedCard}\n              onCardClick={(imageLink) => handleCardClick(imageLink)}\n              cards={cards}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n            />\n            <Route path=\"/sign-up\">\n              <Register onRegister={handleRegister} />\n            </Route>\n            <Route path=\"/sign-in\">\n              <Login onLogin={handleLogin} />\n            </Route>\n            <Route exact path=\"/\">\n              {!loggedIn && <Redirect to=\"/sign-in\" />}\n            </Route>\n          </Switch>\n          {loggedIn && <Footer />}\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n            content={textContents.editAvatar}\n          />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n            content={textContents.editProfile}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlace}\n            content={textContents.addPlace}\n          />\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n          <InfoTooltip\n            image={infoTooltip.image}\n            message={infoTooltip.message}\n            isOpen={infoTooltip.isOpen}\n            onClose={closeAllPopups}\n          />\n        </div>\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default withRouter(App);\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter, HashRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}